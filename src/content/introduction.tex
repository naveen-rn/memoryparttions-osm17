\section{Introduction}
\label{src:intro}

Emerging systems support multiple kinds of memory with different
performance and capacity characteristics. For example, the latest
Many Integrated Core (MIC) processor, the Intel Xeon Phi,
code named Knights Landing (KNL)~\cite{KNL}, combines the traditional
off-package DDR memory with the increased high bandwidth on-package
memory called as the Multi-Channel DRAM~\cite{MCDRAM} (MCDRAM). MCDRAM
offers high bandwidth (up to 4X more than DDR4) with limited
capacity (upto 16GB). Vendors provide their own programming approaches
for users to identify the different kinds of memory using external
libraries like CUDA~\cite{cuda} and Memkind~\cite{memkind} or users
are forced to use low level programming approaches. Irrespective of the
selection both these approaches would turn applications non-portable.
In response, it is for the programming library interfaces like
OpenSHMEM~\cite{osm} to provide a more consistent and portable interface
for accessing different kinds of memory on tiered memory systems.

In this paper, we define the OpenSHMEM runtime changes and extensions
to support different kinds of memory for the symmetric heap. The
OpenSHMEM memory model creates the symmetric heap during program
execution on a memory region determined by the implementation. The
runtime changes described in this paper would allow users to determine
a region on which the symmetric heap can be created. We call this
user-determined region as \emph{Symmetric Memory Partitions}. Each
memory partition features a list of traits to define their
characteristics and memory kind being one of those featured traits.

The major contributions of this work are:
\begin{itemize}
    \item proposing a set of new runtime changes and extensions in
    OpenSHMEM to support different kinds of memory on tiered systems;
    \item implementation of the proposed changes in
    Cray SHMEM~\cite{csma} for Intel KNL processors as an example
    use-case for memory partitions on emerging systems;
    % a vendor-specific OpenSHMEM implementation
    %from Cray Inc;
    \item performance regression analysis on creating multiple symmetric
    partitions; and
    \item performance analysis of these proposed extensions using
    modified Parallel Research Kernels (ParRes)~\cite{parres}.
\end{itemize}

This paper is organized as follows.
In Section~\ref{src:bground} we provide a brief overview for Cray SHMEM
and in Section~\ref{src:knl} we describe Intel KNL architecture with its
different modes of memory configuration. Section~\ref{src:mmodel}
illustrates the current OpenSHMEM memory model and necessitates the need
for changes in the existing memory model. In Section~\ref{src:smempart}
we propose the new runtime changes and extensions in OpenSHMEM memory
model and follow up with the implementation of the proposed changes in
Cray SHMEM in Section~\ref{src:implement}.
Section~\ref{src:regression} provide details of the performance
regression analysis on the implementation and in Section~\ref{src:perf}
we use ParRes OpenSHMEM kernels to present the performance benefits on
determining the kind of memory for creating the symmetric heap. We
discuss related work in Section~\ref{src:relate} and conclude in
Section~\ref{src:conclusion}.